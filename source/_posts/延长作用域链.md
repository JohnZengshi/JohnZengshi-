---
title: 延长作用域链
date: 2018/12/6 10:10:49
categories: 变量、作用域和内存问题
tags: 执行环境及作用域
---

> ###### 全局环境和局部环境

执行环境类型就两种——全局和局部，一般局部环境都是由***函数***创建的。但还有其他方法和***创建局部环境***或者说是***延长作用域链***。

> ###### 延长作用域链

其实就是一些特定的语句可以在作用域链的前端添加一个***变量对象***，*该变量对象在代码执行完毕之后就会被移除。*

当执行流进入到下面这俩个语句时，作用域链就会延长。

- try-catch语句的catch块 （会*创建一个变量对象*，其中就包括**错误信息对象**的声明）
- with语句 （*传入一个变量对象*，添加到作用域链的前端）

例子：

```javascript
function buildUrl(){
    var qs = '?debug=true';
    with(location){
        var url = href + qs；
    }；
    return url;
}
```

上面的例子中，with语句传入了一个location对象，其变量对象就拥有了location的全部属性和方法，引用href相当于引用的是***location.href***